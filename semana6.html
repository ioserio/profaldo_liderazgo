<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Semana 6 | RIKFLEX</title>
  <style>
    :root {
      --bg: #eef3f8;
      --bg2: #f8fafc;
      --panel: #fff;
      --ink: #1e293b;
      --ink2: #475569;
      --border: #d8e2ec;
      --accent: #6366f1;
      --accent2: #38bdf8;
      --accent3: #34d399;
      --radius: 18px;
      --grad-accent: linear-gradient(120deg, var(--accent), var(--accent2), var(--accent3));
      --shadow-sm: 0 2px 4px rgba(15,23,42,.04);
      --shadow-md: 0 8px 28px -4px rgba(15,23,42,.15);
      --shadow-xl: 0 18px 40px -10px rgba(15,23,42,.25);
    }
    body.theme-dark {
      --bg: #0f172a;
      --bg2: #142033;
      --panel: #1e293b;
      --ink: #e2e8f0;
      --ink2: #94a3b8;
      --border: #334155;
      --shadow-sm: 0 2px 4px rgba(0,0,0,.4);
      --shadow-md: 0 8px 28px -4px rgba(0,0,0,.55);
      --shadow-xl: 0 18px 40px -10px rgba(0,0,0,.6);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Segoe UI, system-ui, Arial, sans-serif;
      background: radial-gradient(1000px 800px at 5% 10%, rgba(99,102,241,.12), transparent 60%),
        radial-gradient(900px 700px at 95% 15%, rgba(56,189,248,.15), transparent 65%),
        radial-gradient(900px 700px at 50% 95%, rgba(52,211,153,.14), transparent 70%),
        linear-gradient(160deg, var(--bg) 0%, var(--bg2) 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: var(--ink);
      background-attachment: fixed;
      animation: fadeIn .6s ease;
    }
    @keyframes fadeIn { from { opacity: 0; filter: blur(4px) } to { opacity: 1; filter: none } }
    header {
      padding: 14px 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
      backdrop-filter: blur(8px) saturate(130%);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 80;
    }
    body.theme-dark header {
      background: linear-gradient(180deg, rgba(30,41,59,.85), rgba(30,41,59,.55));
    }
    .header-actions { margin-left: auto; display: flex; align-items: center; gap: 10px; }
    a.home {
      display: inline-flex; align-items: center; justify-content: center;
      width: 40px; height: 40px; border-radius: 12px; border: 1px solid var(--border);
      background: var(--panel); text-decoration: none; font-size: 20px; transition: .25s; color: var(--ink);
      position: relative; overflow: hidden;
    }
    a.home:before { content: ""; position: absolute; inset: 0; background: var(--grad-accent); opacity: 0; transition: .4s; }
    a.home:hover:before { opacity: .15; }
    a.home:hover { box-shadow: 0 4px 14px rgba(15,23,42,.18), 0 0 0 4px rgba(99,102,241,.15); transform: translateY(-2px); }
    h1 {
      font-size: 1.55rem; margin: 0; font-weight: 800; letter-spacing: .5px;
      background: var(--grad-accent); -webkit-background-clip: text; background-clip: text; color: transparent;
    }
  main { flex: 1; width: 100%; max-width: 1400px; margin: 28px auto 70px; display: grid; grid-template-columns: 260px 1fr; gap: 34px; padding: 0 32px; }
    @media (max-width: 1100px) { main { grid-template-columns: 1fr; padding: 0 20px; } }
    .layout-col { min-width: 0; }
    aside.toc {
      position: sticky; top: 86px; align-self: start; max-height: calc(100vh - 120px); overflow: auto;
      padding: 18px 18px 26px; border: 1px solid var(--border); border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
      backdrop-filter: blur(8px) saturate(120%); box-shadow: var(--shadow-sm); display: flex; flex-direction: column; gap: 14px;
    }
  body.theme-dark aside.toc { background: linear-gradient(180deg, rgba(30,41,59,.85), rgba(30,41,59,.55)); }
  body.theme-dark aside.toc { scrollbar-width: thin; scrollbar-color: rgba(99,102,241,.55) rgba(30,41,59,.6); }
  body.theme-dark aside.toc::-webkit-scrollbar { width: 10px; }
  body.theme-dark aside.toc::-webkit-scrollbar-track { background: rgba(30,41,59,.6); border-radius: 10px; }
  body.theme-dark aside.toc::-webkit-scrollbar-thumb { background: linear-gradient(180deg, rgba(99,102,241,.7), rgba(56,189,248,.7)); border-radius: 10px; border: 2px solid rgba(30,41,59,.6); }
  body.theme-dark aside.toc::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, rgba(99,102,241,.85), rgba(56,189,248,.85)); }
    aside.toc h2 { margin: 0; font-size: .9rem; letter-spacing: .8px; text-transform: uppercase; font-weight: 700; opacity: .75; }
    aside.toc nav { display: flex; flex-direction: column; gap: 6px; }
    .toc-link { display: flex; gap: 8px; align-items: center; padding: 8px 10px 8px 12px; font-size: .8rem; line-height: 1.2; border: 1px solid transparent; border-radius: 10px; color: var(--ink2); text-decoration: none; position: relative; transition: .2s; }
    .toc-link span.num { font-variant-numeric: tabular-nums; opacity: .6; min-width: 1.6em; text-align: right; font-size: .7rem; font-weight: 600; }
    .toc-link.active { background: linear-gradient(180deg, rgba(99,102,241,.14), rgba(56,189,248,.14)); color: var(--ink); border-color: rgba(99,102,241,.35); }
    .toc-link:hover { background: rgba(99,102,241,.12); color: var(--ink); }
    .toolbar { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 26px; align-items: center; }
    .chip { font-size: .62rem; letter-spacing: .8px; text-transform: uppercase; font-weight: 700; padding: 7px 14px; border-radius: 20px; background: #e2e8f0; color: #334155; display: inline-flex; align-items: center; gap: 6px; }
    body.theme-dark .chip { background: #334155; color: #e2e8f0; }
    .search-box { position: relative; flex: 1; min-width: 240px; }
    .search-box input { width: 100%; padding: 12px 44px 12px 14px; border: 1px solid var(--border); border-radius: 14px; background: var(--panel); font: inherit; color: var(--ink); box-shadow: var(--shadow-sm); transition: border-color .2s, box-shadow .2s; }
    .search-box input:focus { outline: none; border-color: var(--accent2); box-shadow: 0 0 0 3px rgba(56,189,248,.25); }
    .search-box svg { position: absolute; right: 14px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; stroke: var(--ink2); }
    .actions { display: flex; flex-wrap: wrap; gap: 8px; }
    .btn { appearance: none; border: 1px solid var(--border); background: var(--panel); color: var(--ink); font-weight: 600; padding: 10px 14px; border-radius: 12px; cursor: pointer; font-size: .75rem; letter-spacing: .5px; display: inline-flex; align-items: center; gap: 6px; transition: border-color .2s, box-shadow .2s, transform .18s; }
    .btn:hover { border-color: var(--accent2); box-shadow: 0 4px 14px rgba(15,23,42,.18); }
    .btn:active { transform: translateY(1px); }
    .btn-primary { background: var(--grad-accent); color: #fff; border: none; }
    .btn-primary:hover { box-shadow: 0 6px 18px rgba(56,189,248,.35); } body.theme-dark .btn-primary { color: #fff; }
    .counter { font-size: .7rem; font-weight: 600; padding: 6px 10px; border-radius: 10px; background: linear-gradient(120deg, #38bdf8, #6366f1); color: #fff; box-shadow: var(--shadow-sm); }
    .questions { display: flex; flex-direction: column; gap: 16px; }
    .q-item { border: 1px solid var(--border); background: var(--panel); border-radius: 20px; padding: 0; box-shadow: var(--shadow-sm); overflow: hidden; position: relative; transition: box-shadow .3s, border-color .3s; }
    .q-item.active { box-shadow: var(--shadow-md); border-color: rgba(99,102,241,.6); }
    .q-header { width: 100%; text-align: left; background: none; border: none; display: flex; gap: 14px; align-items: flex-start; padding: 18px 20px; cursor: pointer; font: inherit; color: var(--ink); position: relative; }
    .q-header:focus-visible { outline: 2px solid var(--accent2); outline-offset: 3px; border-radius: 10px; }
    .num-badge { width: 34px; height: 34px; border-radius: 12px; background: linear-gradient(135deg, rgba(99,102,241,.15), rgba(56,189,248,.15)); display: flex; align-items: center; justify-content: center; font-size: .8rem; font-weight: 700; color: var(--ink2); flex-shrink: 0; backdrop-filter: blur(3px); }
    .q-header h3 { margin: 2px 0 0; font-size: 1rem; font-weight: 600; line-height: 1.25; letter-spacing: .3px; }
    .toggle-icon { margin-left: auto; display: inline-flex; align-items: center; justify-content: center; width: 38px; height: 38px; border-radius: 12px; transition: transform .4s; background: radial-gradient(circle at 50% 45%, rgba(99,102,241,.35), rgba(99,102,241,0)); }
    .q-item.open .toggle-icon { transform: rotate(180deg); }
    .answer { padding: 0 54px 22px 68px; font-size: .92rem; line-height: 1.55; color: var(--ink2); display: none; animation: fadeSlide .35s ease; }
    .q-item.open .answer { display: block; }
    .answer::after { content: ""; display: table; clear: both; }
    .answer-media { margin-top: 12px; border: 1px solid var(--border); border-radius: 14px; overflow: hidden; box-shadow: var(--shadow-sm); }
    .answer-media img { width: 100%; height: auto; display: block; }
    .answer-media.media-right { float: right; margin-left: 16px; margin-bottom: 10px; width: min(46%, 360px); }
    .answer-media.media-left  { float: left;  margin-right: 16px; margin-bottom: 10px; width: min(46%, 360px); }
    @media (max-width: 820px) {
      .answer-media.media-right,
      .answer-media.media-left { float: none; width: 100%; margin: 10px 0 14px; }
    }
    @keyframes fadeSlide { from { opacity: 0; transform: translateY(-4px) } to { opacity: 1; transform: translateY(0) } }
    mark { background: linear-gradient(90deg, #fde68a, #fcd34d); color: #1e293b; padding: 0 2px; border-radius: 3px; } body.theme-dark mark { background: linear-gradient(90deg, #fbbf24, #f59e0b); color: #0f172a; }
    .empty { border: 2px dashed var(--border); padding: 40px 30px; border-radius: 20px; text-align: center; font-size: .9rem; color: var(--ink2); display: none; }
    .footer-actions { margin-top: 34px; display: flex; flex-wrap: wrap; gap: 12px; }
    footer { margin-top: auto; text-align: center; padding: 30px 12px 40px; font-size: .7rem; color: var(--ink2); }
    .footer-banner{max-width:1200px;margin:0 auto 8px;border-radius:16px;overflow:hidden;border:1px solid var(--border);box-shadow:var(--shadow-sm);} 
    .footer-banner img{width:100%;height:auto;display:block;} 
    .footer-social{text-align:center;margin:6px 0;} 
    footer a{margin:0 8px;color:var(--ink);text-decoration:none;transition:transform .2s,color .2s;} 
    footer a:hover{transform:scale(1.06);} 
    footer img{width:20px;vertical-align:middle;filter:drop-shadow(0 0 2px rgba(44,62,80,.2));transition:filter .2s,transform .2s;} 
    body.theme-dark footer img{filter:invert(1) brightness(1.15) drop-shadow(0 0 2px rgba(255,255,255,.12));} 
    .footer-quote{text-align:center;font-size:.85rem;color:var(--ink2);opacity:.95;padding:0 10px;margin:6px 0 6px;font-style:italic;} 
    .footer-bottom{text-align:center;font-size:.8rem;opacity:.9;padding:0;}
    .floating-top { position: fixed; right: 18px; bottom: 18px; width: 46px; height: 46px; border-radius: 14px; background: var(--grad-accent); color: #fff; font-weight: 700; font-size: 1rem; display: grid; place-items: center; border: none; cursor: pointer; box-shadow: var(--shadow-md); z-index: 90; opacity: 0; pointer-events: none; transition: .3s; }
    .floating-top.visible { opacity: 1; pointer-events: auto; transform: translateY(0); }
    .density-compact .answer { font-size: .84rem; line-height: 1.45; }
    .density-compact .q-header { padding: 14px 16px; }
    .density-compact .answer { padding: 0 40px 18px 56px; }
    @media (max-width: 900px) { main { margin-top: 18px; } aside.toc { display: none; } .q-header { padding: 16px 18px; } .answer { padding: 0 30px 20px 66px; } .toolbar { flex-direction: column; align-items: stretch; } .actions { width: 100%; } .actions .btn { flex: 1; } .search-box { width: 100%; } }
    @media (max-width: 520px) { h1 { font-size: 1.25rem; } .q-header h3 { font-size: .95rem; } .answer { padding: 0 24px 18px 60px; } .num-badge { width: 30px; height: 30px; border-radius: 10px; font-size: .7rem; } .toggle-icon { width: 32px; height: 32px; } .btn { padding: 9px 12px; font-size: .68rem; } .btn-primary { padding: 9px 14px; } }
    @media print { header, .toolbar, .floating-top, aside.toc, .footer-actions, .actions { display: none !important; } body { background: #fff; } main { grid-template-columns: 1fr; padding: 0 10px; margin: 0; } .q-item { border: 1px solid #555; box-shadow: none; } .answer { display: block !important; } footer { padding: 10px 0 0; font-size: .6rem; } }
  </style>
</head>
<body>
  <header>
    <h1>Semana 6</h1><div aria-hidden="true" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:800;letter-spacing:.5px;text-align:center;pointer-events:none;max-width:76%;line-height:1.15;font-size:clamp(1.1rem,3.5vw,1.85rem);background:var(--grad-accent);-webkit-background-clip:text;background-clip:text;color:transparent;">COMUNICACIÓN ASERTIVA Y EMPATÍA</div>
    <div class="header-actions">
      <a href="index.html" class="home" aria-label="Volver al inicio">🏠</a>
      <button id="themeToggle" class="btn btn-ghost" aria-pressed="false" title="Cambiar tema">🌗 <span style="opacity:.8;font-weight:500;">Tema</span></button>
    </div>
  </header>
  <main id="app">
    <aside class="toc" aria-label="Índice de preguntas">
      <h2>Índice</h2>
      <nav id="tocNav"></nav>
    </aside>
    <div class="layout-col">
      <div class="toolbar" role="region" aria-label="Herramientas del cuestionario">
        <span class="chip" id="modeChip">Cuestionario</span>
        <div class="search-box"><input id="search" type="search" placeholder="Buscar pregunta o respuesta..." aria-label="Buscar" autocomplete="off"/><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div>
        <div class="actions" aria-label="Acciones">
          <button class="btn" id="btnExpandAll" type="button">Expandir todo</button>
          <button class="btn" id="btnCollapseAll" type="button">Contraer</button>
          <button class="btn" id="btnCompact" type="button">Modo compacto</button>
          <button class="btn" id="btnCopyAll" type="button">Copiar todo</button>
          <span class="counter" id="resultCounter" aria-live="polite">10/10</span>
        </div>
      </div>
      <section class="questions" id="questionList" aria-label="Listado de preguntas" role="list">
        </section>
      <div class="empty" id="emptyMsg" role="status">Sin coincidencias. Ajusta tu búsqueda.</div>
      <div class="footer-actions">
        <button class="btn" id="btnScrollTop" type="button">Subir</button>
        <button class="btn" id="btnPrint" type="button">Imprimir / PDF</button>
      </div>
    </div>
  </main>
  <button class="floating-top" id="floatingTop" aria-label="Volver arriba">↑</button>
  <footer>
    <div class="footer-social">
      <a href="https://facebook.com" target="_blank" aria-label="Facebook">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook"/>
      </a>
      <a href="https://twitter.com" target="_blank" aria-label="Twitter">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter"/>
      </a>
      <a href="https://instagram.com" target="_blank" aria-label="Instagram">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram"/>
      </a>
    </div>
  <div class="footer-quote">La comunicación asertiva y la empatía son la base del liderazgo efectivo.</div>
    <div class="footer-bottom">&copy; <span id="year"></span> Derechos reservados</div>
  </footer>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    (function(){
      const KEY = 'ui_theme';
      const btn = document.getElementById('themeToggle');
      try {
        const saved = localStorage.getItem(KEY);
        if (saved === 'dark') {
          document.body.classList.add('theme-dark');
          btn?.setAttribute('aria-pressed', 'true');
        }
      } catch {}
      btn?.addEventListener('click', () => {
        const on = document.body.classList.toggle('theme-dark');
        btn.setAttribute('aria-pressed', String(on));
        try { localStorage.setItem(KEY, on ? 'dark' : 'light'); } catch {}
      });
    })();
    (() => {
  const DATA = [
    {q:'¿Qué se entiende por comunicación y cuáles son sus dos dimensiones fundamentales?',a:'La comunicación es el proceso mediante el cual se transmite información, ideas, sentimientos y significados entre dos o más personas mediante un código compartido. Sus dos dimensiones fundamentales son:\n- Dimensión verbal: el contenido explícito del mensaje (palabras, frases, estructura).\n- Dimensión no verbal: señales que acompañan al mensaje (gestos, tono de voz, postura, expresiones faciales), que influyen en cómo se interpreta el mensaje.', img:'https://picsum.photos/seed/comunicacion-dimensiones/900/420', alt:'Ilustración de comunicación verbal y no verbal'},
    {q:'Menciona y describe brevemente los cuatro estilos de comunicación: agresiva, pasiva, pasivo-agresiva y asertiva.',a:'- Agresiva: Se impone la propia opinión o necesidad sin considerar a los demás; suele usar un tono dominante, acusatorio o insultante. Busca ganar a costa del otro y puede generar resistencia y conflictos.\n- Pasiva: Se evita expresar opiniones, necesidades o emociones por miedo al conflicto o a la desaprobación; la persona suele ceder siempre y acumular frustración.\n- Pasivo-agresiva: La hostilidad se expresa de manera indirecta: sarcasmo, dilación, omisiones o comportamientos contradictorios. Evita el enfrentamiento abierto pero sabotea o muestra rencor de forma encubierta.\n- Asertiva: Se expresan opiniones, sentimientos y necesidades de forma clara, respetuosa y directa, sin agredir ni someterse; busca soluciones mutuamente satisfactorias y mantiene límites sanos.', img:'https://picsum.photos/seed/estilos-comunicacion/900/420', alt:'Cuatro estilos de comunicación: agresiva, pasiva, pasivo-agresiva y asertiva'},
    {q:'¿Qué caracteriza a la comunicación asertiva en comparación con los otros estilos?',a:'La comunicación asertiva se caracteriza por el equilibrio entre la expresión honesta de las propias necesidades y el respeto por las necesidades de los demás. Incluye claridad en el mensaje, control emocional, escucha activa, uso de un lenguaje directo pero respetuoso, establecimiento de límites y disposición al diálogo y la negociación. A diferencia de la agresiva no busca dominar; a diferencia de la pasiva no renuncia a sus derechos; y a diferencia de la pasivo-agresiva evita la manipulación indirecta.', img:'https://picsum.photos/seed/asertiva-clave/900/420', alt:'Comunicación asertiva y equilibrio en la interacción'},
    {q:'Enumera tres características principales de una persona asertiva.',a:'1. Expresa opiniones y emociones de forma clara y respetuosa.\n2. Mantiene límites personales y sabe decir "no" cuando es necesario.\n3. Practica la escucha activa y busca soluciones de beneficio mutuo.', img:'https://picsum.photos/seed/caracteristicas-asertiva/900/420', alt:'Persona asertiva expresándose con claridad y respeto'},
    {q:'¿Cuáles son los derechos asertivos clave que toda persona debe reconocer en la comunicación?',a:'- Derecho a expresar opiniones, sentimientos y deseos.\n- Derecho a decir "no" sin culpa injustificada.\n- Derecho a pedir información o ayuda cuando se necesita.\n- Derecho a cometer errores y a cambiar de opinión.\n- Derecho a ser tratado con respeto y a exigir un trato digno.', img:'https://picsum.photos/seed/derechos-asertivos/900/420', alt:'Lista de derechos asertivos en la comunicación'},
    {q:'¿Qué es la empatía y cuál es su papel dentro de la comunicación efectiva?',a:'La empatía es la capacidad de comprender y compartir los sentimientos y perspectivas de otra persona, poniéndose en su lugar sin perder la propia identidad. En la comunicación, la empatía permite entender mejor el contexto emocional del interlocutor, facilita la conexión, reduce malentendidos, y crea un clima de confianza que mejora la colaboración y la resolución de conflictos.', img:'https://picsum.photos/seed/empatia-rol/900/420', alt:'Empatía como base de la comunicación efectiva'},
    {q:'Explica dos técnicas prácticas para desarrollar empatía en la interacción con los demás.',a:'1. Escucha activa: prestar atención plena al interlocutor, hacer preguntas abiertas, parafrasear lo que dijo y validar sus emociones (por ejemplo: "Si te entiendo bien, te sientes..."). Esto muestra comprensión y clarifica el mensaje.\n2. Perspectiva-reflexión: imaginar la situación desde el punto de vista del otro y evitar juicios rápidos. Preguntar y verificar su experiencia (por ejemplo: "¿Cómo viviste eso?") ayuda a ajustar la respuesta y demuestra interés genuino.', img:'https://picsum.photos/seed/tecnicas-empatia/900/420', alt:'Técnicas de empatía: escucha activa y perspectiva'},
    {q:'¿Cómo puede la comunicación asertiva y empática contribuir a la resolución de conflictos en equipos de trabajo?',a:'La comunicación asertiva facilita expresar necesidades y límites de forma clara, evitando acumulación de resentimientos; la empatía permite comprender las razones y emociones de las otras personas. Combinadas, reducen la escalada del conflicto, promueven el diálogo abierto, permiten identificar intereses comunes y encontrar soluciones colaborativas basadas en respeto mutuo y negociación, mejorando la cohesión y el desempeño del equipo.', img:'https://picsum.photos/seed/conflictos-equipo/900/420', alt:'Resolución de conflictos en equipos con comunicación asertiva y empática'},
    {q:'¿Qué herramientas prácticas pueden emplearse para fortalecer una comunicación asertiva y empática en el día a día?',a:'- Técnicas de escucha activa (parafraseo, preguntas abiertas, validación emocional).\n- Uso de mensajes en primera persona ("Yo siento...", "Yo necesito...") para evitar culpas.\n- Entrenamiento en asertividad (role-playing, retroalimentación estructurada).\n- Pausas y control emocional (respiración, tiempo fuera) para evitar respuestas impulsivas.\n- Retroalimentación constructiva centrada en comportamientos observables y sugerencias concretas.\n- Registro y reflexión personal sobre interacciones difíciles para aprender y ajustar estrategias.', img:'https://picsum.photos/seed/herramientas-asertivas/900/420', alt:'Herramientas diarias para una comunicación asertiva y empática'},
    {q:'Según el documento, ¿qué impacto tienen la comunicación asertiva y la empatía en el liderazgo y en los ambientes laborales?',a:'La comunicación asertiva y la empatía fortalecen el liderazgo al permitir que los líderes comuniquen expectativas con claridad, gestionen conflictos con equidad y motiven a su equipo mostrando comprensión y apoyo. En los ambientes laborales, generan mayor confianza, clima organizacional positivo, reducción del estrés y de la rotación, mejora de la colaboración y productividad, y favorecen la innovación al crear espacios seguros para expresar ideas y errores aprendidos.', img:'https://picsum.photos/seed/impacto-liderazgo/900/420', alt:'Impacto de la comunicación asertiva y empatía en el liderazgo y el trabajo'}
  ];
      const imageMap = {};
      DATA.forEach((item) => { imageMap[item.q] = item.img || ''; });
      const questionList = document.getElementById('questionList');
      const tocNav = document.getElementById('tocNav');
      const search = document.getElementById('search');
      const resultCounter = document.getElementById('resultCounter');
      const emptyMsg = document.getElementById('emptyMsg');
      const LS_EXPAND = 'q_expandAll';
      let expandAll = false;
      try { expandAll = localStorage.getItem(LS_EXPAND) === '1'; } catch {}
      function renderQuestions(data) {
        questionList.innerHTML = '';
        tocNav.innerHTML = '';
        if (!data.length) { emptyMsg.style.display = 'block'; resultCounter.textContent = '0/10'; return; }
        emptyMsg.style.display = 'none';
        resultCounter.textContent = data.length + '/10';
        data.forEach((item, i) => {
          const qItem = document.createElement('div');
          qItem.className = 'q-item';
          qItem.setAttribute('role', 'listitem');
          if (expandAll) qItem.classList.add('open');
          const alignClass = (i % 2 === 0) ? 'media-right' : 'media-left';
          const imgSrc = imageMap[item.q];
          const ariaExp = expandAll ? 'true' : 'false';
          const hiddenAttr = expandAll ? '' : 'hidden';
          qItem.innerHTML = `
            <button class="q-header" type="button" aria-expanded="${ariaExp}" aria-controls="ans${i}">
              <span class="num-badge">${i+1}</span>
              <h3>${item.q}</h3>
              <span class="toggle-icon">▼</span>
            </button>
            <div class="answer" id="ans${i}" ${hiddenAttr}>
              ${imgSrc ? `<figure class='answer-media ${alignClass}'><img src='${imgSrc}' alt='${item.alt || `Ilustración de la pregunta ${i+1}`} ' loading='lazy' decoding='async' onerror="this.closest('figure')?.remove()"></figure>` : ''}
              <div class="answer-text">${item.a.replace(/\n/g,'<br>')}</div>
            </div>
          `;
          questionList.appendChild(qItem);
          const tocLink = document.createElement('a');
          tocLink.className = 'toc-link';
          tocLink.href = '#ans' + i;
          tocLink.innerHTML = `<span class="num">${i+1}</span> ${item.q.slice(0,38)}${item.q.length>38?'...':''}`;
          tocLink.onclick = e => { e.preventDefault(); document.getElementById('ans' + i).scrollIntoView({ behavior: 'smooth', block: 'center' }); };
          tocNav.appendChild(tocLink);
        });
        questionList.querySelectorAll('.q-header').forEach((btn, idx) => {
          btn.onclick = () => {
            const item = btn.parentElement;
            const ans = item.querySelector('.answer');
            const open = item.classList.contains('open');
            item.classList.toggle('open', !open);
            btn.setAttribute('aria-expanded', String(!open));
            ans.hidden = open;
          };
        });
      }
      renderQuestions(DATA);
      search.oninput = () => {
        const val = search.value.trim().toLowerCase();
        if (!val) { renderQuestions(DATA); return; }
        const filtered = DATA.filter(d => d.q.toLowerCase().includes(val) || d.a.toLowerCase().includes(val));
        renderQuestions(filtered);
      };
      const btnExpandAll = document.getElementById('btnExpandAll');
      const btnCollapseAll = document.getElementById('btnCollapseAll');
      btnExpandAll.onclick = () => {
        questionList.querySelectorAll('.q-item').forEach(item => {
          item.classList.add('open');
          item.querySelector('.q-header').setAttribute('aria-expanded', 'true');
          item.querySelector('.answer').hidden = false;
        });
        expandAll = true;
        try { localStorage.setItem(LS_EXPAND, '1'); } catch {}
      };
      btnCollapseAll.onclick = () => {
        questionList.querySelectorAll('.q-item').forEach(item => {
          item.classList.remove('open');
          item.querySelector('.q-header').setAttribute('aria-expanded', 'false');
          item.querySelector('.answer').hidden = true;
        });
        expandAll = false;
        try { localStorage.setItem(LS_EXPAND, '0'); } catch {}
      };
      const btnCompact = document.getElementById('btnCompact');
      btnCompact.onclick = () => {
        document.body.classList.toggle('density-compact');
      };
      const btnCopyAll = document.getElementById('btnCopyAll');
      btnCopyAll.onclick = () => {
        const text = DATA.map((d, i) => `${i+1}. ${d.q}\n${d.a}`).join('\n\n');
        navigator.clipboard.writeText(text);
      };
      const btnScrollTop = document.getElementById('btnScrollTop');
      btnScrollTop.onclick = () => { window.scrollTo({ top: 0, behavior: 'smooth' }); };
      const btnPrint = document.getElementById('btnPrint');
      btnPrint.onclick = () => { window.print(); };
      const floatingTop = document.getElementById('floatingTop');
      window.addEventListener('scroll', () => {
        floatingTop.classList.toggle('visible', window.scrollY > 300);
      });
      floatingTop.onclick = () => { window.scrollTo({ top: 0, behavior: 'smooth' }); };
    })();
  </script>
</body>
</html>